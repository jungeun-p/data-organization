# 16. 생성자 함수에 의한 객체 생성

## ✔️ Object 생성자 함수

`new` + Object 생성자 함수 호출시 빈 객체(인스턴스)를 생성한다. 

## ✔️ 생성자 함수

객체 리터럴은 일회용으로 객체를 생성한다는 단점이 있는데, 생성자 함수를 통해 템플릿처럼 동일한 프로퍼티 객체를 간편하게 생성할 수 있다.  

### ∙생성자 함수란 무엇일까?

`new` 연산자와 함께 호출하여 **객체(인스턴스)를 생성**하는 함수를 뜻하며, 다양한 빌트인 생성자 함수가 존재한다. 

일반 함수를 생성자 함수처럼 정의 후 new 연산자와 호출시 생성자 함수처럼 동작한다. new 키워드 없이는 일반 함수로 동작. 

### ∙`this` 바인딩은 어떻게 될까?

this 바인딩은 **함수 호출 방식에 따라 동적으로 결정**된다. 

일반 함수 호출 → 전역 객체를 가리킴

메서드로서의 호출 → 메서드를 호출한 객체를 가리킴

**생성자 함수** 호출 → 생성자 함수가 **생성할 인스턴스**를 가리킴

### ∙인스턴스는 어떻게 생성될까?

1. 자바스크립트 엔진에 의해 암묵적으로 **빈 객체(인스턴스)를 생성하고 `this` 바인딩**을 처리한다. → 생성할 인스턴스를 가리킴. 2. 이후 바인딩 된 인스턴스에 프로퍼티 및 메서드를 추가하고 인수로 전달받은 **값을 할당 후 초기화** 한다. 3. 바인딩 된 **this를 반환**한다. 

### ∙내부 메서드 `[[Call]]`, `[[Construct]]`

모든 함수 객체의 경우 `[[Call]]`, new 연산자의 생성자 함수의 경우 `[[Construct]]` 내부 슬롯을 지니고 있다. 함수 객체는 **constructor(함수 선언문, 표현식, 클래스)** or **non-constructor(메서드, 화살표 함수)**일 수 있으며 이는 **함수 정의 방식에 따라 구분**한다. 

### ∙`new` 키워드

해당 키워드를 통해 생성자 함수로 동작하며, [[Construct]]가 호출된다. 생성자 함수로 호출할 때 this는 생성할 인스턴스를 가리킨다. 

- `new.target`
    
    new 연산자 없이 생성자 함수 호출을 방지하기 위한 지원. 생성자 함수로서 호출 되었는지 확인이 가능하며, 생성자 함수일 때 함수 자신, 일반 함수는 undefined를 반환한다. 프로토타입에 의해 생성자 함수와 연결된다.