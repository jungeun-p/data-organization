# 11. 함수

호출시 블록 내부의 코드를 실행하고 결과를 반환한다. 함수 재사용이 가능하고, 객체 타입의 값이다. 함수는 함수 객체를 가리키는 식별자로 호출된다.

## ✔️ 함수 정의

함수 리터럴`{}`을 통해 함수 선언문 생성이 가능하다. 이외에도 표현식, Function 생성자 함수, arrow function이 존재한다. 

### ∙함수 선언문

```jsx
function foo(){} // 표현식이 아니기에 식별자가 없다. 
```

표현식(값)이 아닌 문이다. 함수 선언문은 함수 객체를 생성하여 호출하기 위해 이름과 **동일한 이름의 식별자를 암묵적으로 생성 후 객체에 할당**한다. ⇒ 호출

### ∙함수 표현식

함수는 일급 객체로서, 값처럼 자유롭게 사용이 가능하다. 함수 객체를 가르키는 식별자를 통해 호출이 가능하다. 

### ∙함수는 어떻게 호이스팅 되는 걸까?

함수 선언문과 함수 표현식은 다르게 호이스팅된다. 

함수 선언문은 런타임 이전에 암묵적으로 동일한 이름의 식별자를 생성하여 함수 객체 할당 후 선언문 이전에 호출이 가능해진다 ⇒ **함수 호이스팅**

함수 표현식은 **변수 호이스팅**으로 인해 런타임 이후(변수 할당문) 함수 객체 할당으로 선언 이전 접근시 함수 호출이 불가능하다 ⇒ 표현식을 권장.

### ∙arrow function `⇒`

익명 함수로 정의된다. 간략하게 함수를 표현되며, 내부 동작 또한 간략화 되어있다. 생성자 함수로 사용 불가하며, this 바인딩이 기존 함수와 다르다. prototype 프로퍼티나 arguments 객체를 생성하지 않는다. 

## ✔️ 함수 호출

함수를 호출할 경우, 코드 실행 중단 후 호출된 함수로 실행 흐름을 옮긴다. 

```jsx
function add(x, y){ // parameter 생성
	return x+y;
}

var result = add(1, 2); // arguments 전달
```

### ∙매개 변수, 인수(parameter, arguments)

매개변수(parameter, 인자)를 통해 인수(arguments)를 전달한다. 매개변수는 함수 내부에서만 참조가 가능(스코프가 함수 내부)하며, 초과된 인수는 무시된다. 

자바스크립트는 매개변수 타입을 사전에 지정할 수 없다. 

### ∙반환문(return)

함수 실행을 중단하고 실행 결과를 외부 함수로 반환한다. 함수 내부에서만 사용 가능하며 키워드 뒤에 오는 표현식을 평가한다. 

## ✔️ 객체는 왜 불변(immutable)하게 다뤄야 할까?

객체는 변경 가능하며, 참조에 의해 전달된다. 함수 외부에서 내부로 **원본 객체가 변경되는 부수 효과가 발생하는 부작용**이 생기기 때문에, **불변으로 만들어 사용**해야 한다. 

### ∙함수형 프로그래밍

외부 상태 의존 없는 함수를 순수 함수라고 하며, 부수 효과를 최소화하여 불변성을 지향하는 프로그래밍 패러다임.

## ✔️ 함수 종류

### ∙즉시 함수 실행

정의와 함께 호출되는 함수. 단, 재호출이 불가. 

### ∙재귀함수

자기 자신을 호출하는, 즉 **재귀 호출을 수행하는 함수.** 반복문 없이 반복 처리를 구현할 수 있으며, **탈출 조건을 명시**해야 한다. 

### ∙중첩 함수

함수 내부에 정의된 내부 함수. **외부 함수 내부에서만 호출이 가능**하며 호이스팅으로 인한 부수효과 발생 가능성이 있으니 함수 선언문을 통한 함수 정의는 바람직하지 않다. 

### ∙콜백 함수

**매개변수를 통해 함수 내부로 전달되는 함수**로, 고차 함수에 의해 호출된다. 함수 외부에서 정의 후 고차 함수로 전달하는 편이 효율적이며 **비동기 처리에 활용되는 중요한 패턴**이다.

배열 고차 함수에서도 사용된다(map, filter, reduce)

- **고차 함수**는 함수 외부에서 **콜백 함수를 전달받는 함수**를 뜻한다. 함수 자체를 전달 받으며, **고차 함수 실행시 콜백을 생성**한다. 배열 고차 함수(map, filter, reduce)가 존재한다.

### ∙순수 함수와 함수형 프로그래밍

부수효과가 없는 함수로 외부 상태를 변경하지 않는다. 보조 함수와 함께 부수 효과를 최소화 하고 불변성을 지향하는 함수형 프로그래밍이 가능하다.